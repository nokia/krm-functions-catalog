secretGenerator:
  - name: my-secret
    envs:
      - credentials.env
    options:
      disableNameSuffixHash: true
      annotations:
        config.kubernetes.io/local-config: "true"

transformers:
  - |-
    apiVersion: fn.kpt.dev/v1alpha1
    kind: RenderHelmChart
    metadata:
      name: demo
      annotations:
        config.kubernetes.io/function: |
          container:
            network: true
            image: ghcr.io/kptdev/krm-functions-catalog/render-helm-chart:latest
    helmCharts:
    - chartArgs:
        name: mychart
        repo: https://raw.githubusercontent.com/kpt-helmfn-test-bot/private-helm-repo/main
        auth:
          kind: Secret
          name: my-secret
